<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Week 2 | Intro to data and Probability</title>
  <meta name="description" content="This is my course activity for the Introduction to Probability and Data offered by Duke University on Coursera">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Week 2 | Intro to data and Probability" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is my course activity for the Introduction to Probability and Data offered by Duke University on Coursera" />
  <meta name="github-repo" content="akshaykumarreddy/intro-data-prob" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Week 2 | Intro to data and Probability" />
  
  <meta name="twitter:description" content="This is my course activity for the Introduction to Probability and Data offered by Duke University on Coursera" />
  

<meta name="author" content="Akshay Kotha">


<meta name="date" content="2018-12-30">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="week-1.html">
<link rel="next" href="week-3.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro to data and Probability</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="week-1.html"><a href="week-1.html"><i class="fa fa-check"></i>Week 1</a><ul>
<li class="chapter" data-level="0.1" data-path="week-1.html"><a href="week-1.html#rstudio"><i class="fa fa-check"></i><b>0.1</b> RStudio</a></li>
<li class="chapter" data-level="0.2" data-path="week-1.html"><a href="week-1.html#r-packages"><i class="fa fa-check"></i><b>0.2</b> R Packages</a></li>
<li class="chapter" data-level="0.3" data-path="week-1.html"><a href="week-1.html#dataset-1-dr.arbuthnots-baptism-records"><i class="fa fa-check"></i><b>0.3</b> Dataset 1: Dr. Arbuthnot’s Baptism Records</a><ul>
<li class="chapter" data-level="0.3.1" data-path="week-1.html"><a href="week-1.html#r-markdown"><i class="fa fa-check"></i><b>0.3.1</b> R Markdown</a></li>
<li class="chapter" data-level="0.3.2" data-path="week-1.html"><a href="week-1.html#some-exploration"><i class="fa fa-check"></i><b>0.3.2</b> Some Exploration</a></li>
<li class="chapter" data-level="0.3.3" data-path="week-1.html"><a href="week-1.html#r-as-a-big-calculator"><i class="fa fa-check"></i><b>0.3.3</b> R as a big calculator</a></li>
<li class="chapter" data-level="0.3.4" data-path="week-1.html"><a href="week-1.html#adding-a-new-variable-to-the-data-frame"><i class="fa fa-check"></i><b>0.3.4</b> Adding a new variable to the data frame</a></li>
</ul></li>
<li class="chapter" data-level="0.4" data-path="week-1.html"><a href="week-1.html#dataset-2-present-birth-records"><i class="fa fa-check"></i><b>0.4</b> Dataset 2: Present birth records</a></li>
<li class="chapter" data-level="0.5" data-path="week-1.html"><a href="week-1.html#resources-for-learning-r-and-working-in-rstudio"><i class="fa fa-check"></i><b>0.5</b> Resources for learning R and working in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-2.html"><a href="week-2.html"><i class="fa fa-check"></i>Week 2</a><ul>
<li class="chapter" data-level="0.6" data-path="week-2.html"><a href="week-2.html#getting-started"><i class="fa fa-check"></i><b>0.6</b> Getting started</a><ul>
<li class="chapter" data-level="0.6.1" data-path="week-2.html"><a href="week-2.html#load-packages"><i class="fa fa-check"></i><b>0.6.1</b> Load packages</a></li>
<li class="chapter" data-level="0.6.2" data-path="week-2.html"><a href="week-2.html#data"><i class="fa fa-check"></i><b>0.6.2</b> Data</a></li>
<li class="chapter" data-level="0.6.3" data-path="week-2.html"><a href="week-2.html#seven-verbs"><i class="fa fa-check"></i><b>0.6.3</b> Seven verbs</a></li>
</ul></li>
<li class="chapter" data-level="0.7" data-path="week-2.html"><a href="week-2.html#analysis"><i class="fa fa-check"></i><b>0.7</b> Analysis</a><ul>
<li class="chapter" data-level="0.7.1" data-path="week-2.html"><a href="week-2.html#departure-delays-in-flights-to-raleigh-durham-rdu"><i class="fa fa-check"></i><b>0.7.1</b> Departure delays in flights to Raleigh-Durham (RDU)</a></li>
<li class="chapter" data-level="0.7.2" data-path="week-2.html"><a href="week-2.html#departure-delays-over-months"><i class="fa fa-check"></i><b>0.7.2</b> Departure delays over months</a></li>
<li class="chapter" data-level="0.7.3" data-path="week-2.html"><a href="week-2.html#on-time-departure-rate-for-nyc-airports"><i class="fa fa-check"></i><b>0.7.3</b> On time departure rate for NYC airports</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-3.html"><a href="week-3.html"><i class="fa fa-check"></i>Week 3</a><ul>
<li class="chapter" data-level="0.8" data-path="week-3.html"><a href="week-3.html#hot-hands"><i class="fa fa-check"></i><b>0.8</b> Hot Hands</a></li>
<li class="chapter" data-level="0.9" data-path="week-3.html"><a href="week-3.html#getting-started-1"><i class="fa fa-check"></i><b>0.9</b> Getting Started</a><ul>
<li class="chapter" data-level="0.9.1" data-path="week-3.html"><a href="week-3.html#load-packages-1"><i class="fa fa-check"></i><b>0.9.1</b> Load packages</a></li>
<li class="chapter" data-level="0.9.2" data-path="week-3.html"><a href="week-3.html#data-1"><i class="fa fa-check"></i><b>0.9.2</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="0.10" data-path="week-3.html"><a href="week-3.html#compared-to-what"><i class="fa fa-check"></i><b>0.10</b> Compared to What?</a></li>
<li class="chapter" data-level="0.11" data-path="week-3.html"><a href="week-3.html#simulations-in-r"><i class="fa fa-check"></i><b>0.11</b> Simulations in R</a></li>
<li class="chapter" data-level="0.12" data-path="week-3.html"><a href="week-3.html#simulating-the-independent-shooter"><i class="fa fa-check"></i><b>0.12</b> Simulating the Independent Shooter</a><ul>
<li class="chapter" data-level="0.12.1" data-path="week-3.html"><a href="week-3.html#comparing-kobe-bryant-to-the-independent-shooter"><i class="fa fa-check"></i><b>0.12.1</b> Comparing Kobe Bryant to the Independent Shooter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="week-4.html"><a href="week-4.html"><i class="fa fa-check"></i>Week 4</a><ul>
<li class="chapter" data-level="0.13" data-path="week-4.html"><a href="week-4.html#setup"><i class="fa fa-check"></i><b>0.13</b> Setup</a><ul>
<li class="chapter" data-level="0.13.1" data-path="week-4.html"><a href="week-4.html#load-packages-2"><i class="fa fa-check"></i><b>0.13.1</b> Load packages</a></li>
<li class="chapter" data-level="0.13.2" data-path="week-4.html"><a href="week-4.html#load-data"><i class="fa fa-check"></i><b>0.13.2</b> Load data</a></li>
</ul></li>
<li class="chapter" data-level="0.14" data-path="week-4.html"><a href="week-4.html#part-1-data"><i class="fa fa-check"></i><b>0.14</b> Part 1: Data</a></li>
<li class="chapter" data-level="0.15" data-path="week-4.html"><a href="week-4.html#part-2-research-questions"><i class="fa fa-check"></i><b>0.15</b> Part 2: Research questions</a><ul>
<li class="chapter" data-level="0.15.1" data-path="week-4.html"><a href="week-4.html#research-quesion-1"><i class="fa fa-check"></i><b>0.15.1</b> Research quesion 1:</a></li>
<li class="chapter" data-level="0.15.2" data-path="week-4.html"><a href="week-4.html#research-quesion-2"><i class="fa fa-check"></i><b>0.15.2</b> Research quesion 2:</a></li>
<li class="chapter" data-level="0.15.3" data-path="week-4.html"><a href="week-4.html#research-quesion-3"><i class="fa fa-check"></i><b>0.15.3</b> Research quesion 3:</a></li>
</ul></li>
<li class="chapter" data-level="0.16" data-path="week-4.html"><a href="week-4.html#part-3-exploratory-data-analysis"><i class="fa fa-check"></i><b>0.16</b> Part 3: Exploratory data analysis</a><ul>
<li class="chapter" data-level="0.16.1" data-path="week-4.html"><a href="week-4.html#research-quesion-1-code"><i class="fa fa-check"></i><b>0.16.1</b> Research quesion 1: Code</a></li>
<li class="chapter" data-level="0.16.2" data-path="week-4.html"><a href="week-4.html#narrative-of-question-1"><i class="fa fa-check"></i><b>0.16.2</b> Narrative of question 1:</a></li>
<li class="chapter" data-level="0.16.3" data-path="week-4.html"><a href="week-4.html#research-quesion-2-code"><i class="fa fa-check"></i><b>0.16.3</b> Research quesion 2: Code</a></li>
<li class="chapter" data-level="0.16.4" data-path="week-4.html"><a href="week-4.html#narrative-of-question-2"><i class="fa fa-check"></i><b>0.16.4</b> Narrative of question 2:</a></li>
<li class="chapter" data-level="0.16.5" data-path="week-4.html"><a href="week-4.html#research-quesion-3-code"><i class="fa fa-check"></i><b>0.16.5</b> Research quesion 3: Code</a></li>
<li class="chapter" data-level="0.16.6" data-path="week-4.html"><a href="week-4.html#narrative-question-3"><i class="fa fa-check"></i><b>0.16.6</b> Narrative question 3:</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro to data and Probability</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-2" class="section level1 unnumbered">
<h1>Week 2</h1>
<div id="instructions">
<p>Complete all <strong>Exercises</strong>, and submit answers to <strong>Questions</strong> on the Coursera platform.</p>
</div>
<p>Some define statistics as the field that focuses on turning information into knowledge. The first step in that process is to summarize and describe the raw information - the data. In this lab we explore flights, specifically a random sample of domestic flights that departed from the three major New York City airport in 2013. We will generate simple graphical and numerical summaries of data on these flights and explore delay times. As this is a large data set, along the way you’ll also learn the indispensable skills of data processing and subsetting.</p>
<div id="getting-started" class="section level2">
<h2><span class="header-section-number">0.6</span> Getting started</h2>
<div id="load-packages" class="section level3">
<h3><span class="header-section-number">0.6.1</span> Load packages</h3>
<p>In this lab we will explore the data using the <code>dplyr</code> package and visualize it using the <code>ggplot2</code> package for data visualization. The data can be found in the companion package for this course, <code>statsr</code>.</p>
<p>Let’s load the packages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(statsr)
<span class="kw">library</span>(dplyr)
<span class="kw">library</span>(ggplot2)</code></pre></div>
</div>
<div id="data" class="section level3">
<h3><span class="header-section-number">0.6.2</span> Data</h3>
<p>The <a href="http://www.rita.dot.gov/bts/about/">Bureau of Transportation Statistics</a> (BTS) is a statistical agency that is a part of the Research and Innovative Technology Administration (RITA). As its name implies, BTS collects and makes available transportation data, such as the flights data we will be working with in this lab.</p>
<p>We begin by loading the <code>nycflights</code> data frame. Type the following in your console to load the data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(nycflights)</code></pre></div>
<p>The data frame containing 32735 flights that shows up in your workspace is a <em>data matrix</em>, with each row representing an <em>observation</em> and each column representing a <em>variable</em>. R calls this data format a <strong>data frame</strong>, which is a term that will be used throughout the labs.</p>
<p>To view the names of the variables, type the command</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(nycflights)</code></pre></div>
<pre><code>##  [1] &quot;year&quot;      &quot;month&quot;     &quot;day&quot;       &quot;dep_time&quot;  &quot;dep_delay&quot;
##  [6] &quot;arr_time&quot;  &quot;arr_delay&quot; &quot;carrier&quot;   &quot;tailnum&quot;   &quot;flight&quot;   
## [11] &quot;origin&quot;    &quot;dest&quot;      &quot;air_time&quot;  &quot;distance&quot;  &quot;hour&quot;     
## [16] &quot;minute&quot;</code></pre>
<p>This returns the names of the variables in this data frame. The <strong>codebook</strong> (description of the variables) is included below. This information can also be found in the help file for the data frame which can be accessed by typing <code>?nycflights</code> in the console.</p>
<ul>
<li><code>year</code>, <code>month</code>, <code>day</code>: Date of departure</li>
<li><code>dep_time</code>, <code>arr_time</code>: Departure and arrival times, local timezone.</li>
<li><code>dep_delay</code>, <code>arr_delay</code>: Departure and arrival delays, in minutes. Negative times represent early departures/arrivals.</li>
<li><code>carrier</code>: Two letter carrier abbreviation.
<ul>
<li><code>9E</code>: Endeavor Air Inc.</li>
<li><code>AA</code>: American Airlines Inc.</li>
<li><code>AS</code>: Alaska Airlines Inc.</li>
<li><code>B6</code>: JetBlue Airways</li>
<li><code>DL</code>: Delta Air Lines Inc.</li>
<li><code>EV</code>: ExpressJet Airlines Inc.</li>
<li><code>F9</code>: Frontier Airlines Inc.</li>
<li><code>FL</code>: AirTran Airways Corporation</li>
<li><code>HA</code>: Hawaiian Airlines Inc.</li>
<li><code>MQ</code>: Envoy Air</li>
<li><code>OO</code>: SkyWest Airlines Inc.</li>
<li><code>UA</code>: United Air Lines Inc.</li>
<li><code>US</code>: US Airways Inc.</li>
<li><code>VX</code>: Virgin America</li>
<li><code>WN</code>: Southwest Airlines Co.</li>
<li><code>YV</code>: Mesa Airlines Inc.</li>
</ul></li>
<li><code>tailnum</code>: Plane tail number</li>
<li><code>flight</code>: Flight number</li>
<li><code>origin</code>, <code>dest</code>: Airport codes for origin and destination. (Google can help you with what code stands for which airport.)</li>
<li><code>air_time</code>: Amount of time spent in the air, in minutes.</li>
<li><code>distance</code>: Distance flown, in miles.</li>
<li><code>hour</code>, <code>minute</code>: Time of departure broken in to hour and minutes.</li>
</ul>
<p>A very useful function for taking a quick peek at your data frame, and viewing its dimensions and data types is <code>str</code>, which stands for <strong>str</strong>ucture.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(nycflights)</code></pre></div>
<pre><code>## Classes &#39;tbl_df&#39; and &#39;data.frame&#39;:   32735 obs. of  16 variables:
##  $ year     : int  2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 ...
##  $ month    : int  6 5 12 5 7 1 12 8 9 4 ...
##  $ day      : int  30 7 8 14 21 1 9 13 26 30 ...
##  $ dep_time : int  940 1657 859 1841 1102 1817 1259 1920 725 1323 ...
##  $ dep_delay: num  15 -3 -1 -4 -3 -3 14 85 -10 62 ...
##  $ arr_time : int  1216 2104 1238 2122 1230 2008 1617 2032 1027 1549 ...
##  $ arr_delay: num  -4 10 11 -34 -8 3 22 71 -8 60 ...
##  $ carrier  : chr  &quot;VX&quot; &quot;DL&quot; &quot;DL&quot; &quot;DL&quot; ...
##  $ tailnum  : chr  &quot;N626VA&quot; &quot;N3760C&quot; &quot;N712TW&quot; &quot;N914DL&quot; ...
##  $ flight   : int  407 329 422 2391 3652 353 1428 1407 2279 4162 ...
##  $ origin   : chr  &quot;JFK&quot; &quot;JFK&quot; &quot;JFK&quot; &quot;JFK&quot; ...
##  $ dest     : chr  &quot;LAX&quot; &quot;SJU&quot; &quot;LAX&quot; &quot;TPA&quot; ...
##  $ air_time : num  313 216 376 135 50 138 240 48 148 110 ...
##  $ distance : num  2475 1598 2475 1005 296 ...
##  $ hour     : num  9 16 8 18 11 18 12 19 7 13 ...
##  $ minute   : num  40 57 59 41 2 17 59 20 25 23 ...</code></pre>
<p>The <code>nycflights</code> data frame is a massive trove of information. Let’s think about some questions we might want to answer with these data:</p>
<ul>
<li>We might want to find out how delayed flights headed to a particular destination tend to be.</li>
<li>We might want to evaluate how departure delays vary over months.</li>
<li>Or we might want to determine which of the three major NYC airports has a better on time percentage for departing flights.</li>
</ul>
</div>
<div id="seven-verbs" class="section level3">
<h3><span class="header-section-number">0.6.3</span> Seven verbs</h3>
<p>The <code>dplyr</code> package offers seven verbs (functions) for basic data manipulation:</p>
<ul>
<li><code>filter()</code></li>
<li><code>arrange()</code></li>
<li><code>select()</code></li>
<li><code>distinct()</code></li>
<li><code>mutate()</code></li>
<li><code>summarise()</code></li>
<li><code>sample_n()</code></li>
</ul>
<p>We will use some of these functions in this lab, and learn about others in a future lab.</p>
</div>
</div>
<div id="analysis" class="section level2">
<h2><span class="header-section-number">0.7</span> Analysis</h2>
<div id="departure-delays-in-flights-to-raleigh-durham-rdu" class="section level3">
<h3><span class="header-section-number">0.7.1</span> Departure delays in flights to Raleigh-Durham (RDU)</h3>
<p>We can examine the distribution of departure delays of all flights with a histogram.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> nycflights, <span class="kw">aes</span>(<span class="dt">x =</span> dep_delay)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>()</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="02_intro_to_data_Coursera_files/figure-html/hist-dep-delay-1.png" width="672" /></p>
<p>This function says to plot the <code>dep_delay</code> variable from the <code>nycflights</code> data frame on the x-axis. It also defines a <code>geom</code> (short for geometric object), which describes the type of plot you will produce.</p>
<p>Histograms are generally a very good way to see the shape of a single distribution, but that shape can change depending on how the data is split between the different bins. You can easily define the binwidth you want to use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> nycflights, <span class="kw">aes</span>(<span class="dt">x =</span> dep_delay)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">15</span>)</code></pre></div>
<p><img src="02_intro_to_data_Coursera_files/figure-html/hist-dep-delay-bins-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> nycflights, <span class="kw">aes</span>(<span class="dt">x =</span> dep_delay)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">150</span>)</code></pre></div>
<p><img src="02_intro_to_data_Coursera_files/figure-html/hist-dep-delay-bins-2.png" width="672" /></p>
<div id="exercise">
<p><strong>Exercise</strong>: How do these three histograms with the various binwidths compare?</p>
</div>
<p>If we want to focus on departure delays of flights headed to RDU only, we need to first <code>filter</code> the data for flights headed to RDU (<code>dest == &quot;RDU&quot;</code>) and then make a histogram of only departure delays of only those flights.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rdu_flights &lt;-<span class="st"> </span>nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(dest <span class="op">==</span><span class="st"> &quot;RDU&quot;</span>)
<span class="kw">ggplot</span>(<span class="dt">data =</span> rdu_flights, <span class="kw">aes</span>(<span class="dt">x =</span> dep_delay)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>()</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="02_intro_to_data_Coursera_files/figure-html/rdu-flights-hist-1.png" width="672" /></p>
<p>Let’s decipher these three lines of code:</p>
<ul>
<li>Line 1: Take the <code>nycflights</code> data frame, <code>filter</code> for flights headed to RDU, and save the result as a new data frame called <code>rdu_flights</code>.
<ul>
<li><code>==</code> means “if it’s equal to”.</li>
<li><code>RDU</code> is in quotation marks since it is a character string.</li>
</ul></li>
<li>Line 2: Basically the same <code>ggplot</code> call from earlier for making a histogram, except that it uses the data frame for flights headed to RDU instead of all flights.</li>
</ul>
<div id="boxedtext">
<p><strong>Logical operators: </strong> Filtering for certain observations (e.g. flights from a particular airport) is often of interest in data frames where we might want to examine observations with certain characteristics separately from the rest of the data. To do so we use the <code>filter</code> function and a series of <strong>logical operators</strong>. The most commonly used logical operators for data analysis are as follows:</p>
<ul>
<li><code>==</code> means “equal to”</li>
<li><code>!=</code> means “not equal to”</li>
<li><code>&gt;</code> or <code>&lt;</code> means “greater than” or “less than”</li>
<li><code>&gt;=</code> or <code>&lt;=</code> means “greater than or equal to” or “less than or equal to”</li>
</ul>
</div>
<p>We can also obtain numerical summaries for these flights:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rdu_flights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_dd =</span> <span class="kw">mean</span>(dep_delay), <span class="dt">sd_dd =</span> <span class="kw">sd</span>(dep_delay), <span class="dt">n =</span> <span class="kw">n</span>())</code></pre></div>
<pre><code>## # A tibble: 1 x 3
##   mean_dd sd_dd     n
##     &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
## 1    11.7  35.6   801</code></pre>
<p>Note that in the <code>summarise</code> function we created a list of two elements. The names of these elements are user defined, like <code>mean_dd</code>, <code>sd_dd</code>, <code>n</code>, and you could customize these names as you like (just don’t use spaces in your names). Calculating these summary statistics also require that you know the function calls. Note that <code>n()</code> reports the sample size.</p>
<div id="boxedtext">
<p><strong>Summary statistics: </strong> Some useful function calls for summary statistics for a single numerical variable are as follows:</p>
<ul>
<li><code>mean</code></li>
<li><code>median</code></li>
<li><code>sd</code></li>
<li><code>var</code></li>
<li><code>IQR</code></li>
<li><code>range</code></li>
<li><code>min</code></li>
<li><code>max</code></li>
</ul>
</div>
<p>We can also filter based on multiple criteria. Suppose we are interested in flights headed to San Francisco (SFO) in February:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sfo_feb_flights &lt;-<span class="st"> </span>nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(dest <span class="op">==</span><span class="st"> &quot;SFO&quot;</span>, month <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)</code></pre></div>
<p>Note that we can separate the conditions using commas if we want flights that are both headed to SFO <strong>and</strong> in February. If we are interested in either flights headed to SFO <strong>or</strong> in February we can use the <code>|</code> instead of the comma.</p>
<ol style="list-style-type: decimal">
<li>Create a new data frame that includes flights headed to SFO in February, and save this data frame as <code>sfo_feb_flights</code>. How many flights meet these criteria?
<ol>
<li>
68
</li>
<li>
1345
</li>
<li>
2286
</li>
<li>
3563
</li>
<li>
32735
</li>
</ol></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 1 here, and Knit</span>
sfo_feb_flights &lt;-<span class="st"> </span>nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(dest <span class="op">==</span><span class="st"> &quot;SFO&quot;</span>, month <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)
sfo_feb_flights <span class="op">%&gt;%</span>
<span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>())</code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1    68</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Make a histogram and calculate appropriate summary statistics for <strong>arrival</strong> delays of <code>sfo_feb_flights</code>. Which of the following is false?
<ol>
<li>
The distribution is unimodal.
</li>
<li>
The distribution is right skewed.
</li>
<li>
No flight is delayed more than 2 hours.
</li>
<li>
The distribution has several extreme values on the right side.
</li>
<li>
More than 50% of flights arrive on time or earlier than scheduled.
</li>
</ol></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 2 here, and Knit</span>
<span class="co"># </span>
  <span class="kw">ggplot</span>(<span class="dt">data =</span> sfo_feb_flights, <span class="kw">aes</span>(<span class="dt">x =</span> arr_delay)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">10</span>)</code></pre></div>
<p><img src="02_intro_to_data_Coursera_files/figure-html/sfo-feb-flights-arrival-delays-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sfo_feb_flights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">sd_ad =</span> <span class="kw">sd</span>(arr_delay), <span class="dt">var_ad =</span> <span class="kw">var</span>(arr_delay), <span class="dt">iqr_ad =</span> <span class="kw">IQR</span>(arr_delay), <span class="dt">median_ad =</span> <span class="kw">median</span>(arr_delay), <span class="dt">min_ad =</span> <span class="kw">min</span>(arr_delay), <span class="dt">max_ad =</span> <span class="kw">max</span>(arr_delay))</code></pre></div>
<pre><code>## # A tibble: 1 x 6
##   sd_ad var_ad iqr_ad median_ad min_ad max_ad
##   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1  36.3  1316.   23.2       -11    -66    196</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sfo_feb_flights_ear &lt;-<span class="st"> </span>sfo_feb_flights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(arr_delay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span>)
sfo_feb_flights_ear <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>())</code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1    49</code></pre>
<p>Another useful functionality is being able to quickly calculate summary statistics for various groups in your data frame. For example, we can modify the above command using the <code>group_by</code> function to get the same summary stats for each origin airport:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rdu_flights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(origin) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_dd =</span> <span class="kw">mean</span>(dep_delay), <span class="dt">sd_dd =</span> <span class="kw">sd</span>(dep_delay), <span class="dt">n =</span> <span class="kw">n</span>())</code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   origin mean_dd sd_dd     n
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
## 1 EWR      13.4   32.1   145
## 2 JFK      15.4   40.3   300
## 3 LGA       7.90  32.2   356</code></pre>
<p>Here, we first grouped the data by <code>origin</code>, and then calculated the summary statistics.</p>
<ol start="3" style="list-style-type: decimal">
<li>Calculate the median and interquartile range for <code>arr_delay</code>s of flights in the <code>sfo_feb_flights</code> data frame, grouped by carrier. Which carrier has the hights IQR of arrival delays?
<ol>
<li>
American Airlines
</li>
<li>
JetBlue Airways
</li>
<li>
Virgin America
</li>
<li>
Delta and United Airlines
</li>
<li>
Frontier Airlines
</li>
</ol></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 3 here, and Knit</span>
sfo_feb_flights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(carrier) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">median_ad =</span> <span class="kw">median</span>(arr_delay), <span class="dt">iqr_ad =</span> <span class="kw">IQR</span>(arr_delay), <span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(iqr_ad))</code></pre></div>
<pre><code>## # A tibble: 5 x 4
##   carrier median_ad iqr_ad     n
##   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;
## 1 DL          -15     22      19
## 2 UA          -10     22      21
## 3 VX          -22.5   21.2    12
## 4 AA            5     17.5    10
## 5 B6          -10.5   12.2     6</code></pre>
</div>
<div id="departure-delays-over-months" class="section level3">
<h3><span class="header-section-number">0.7.2</span> Departure delays over months</h3>
<p>Which month would you expect to have the highest average delay departing from an NYC airport?</p>
<p>Let’s think about how we would answer this question:</p>
<ul>
<li>First, calculate monthly averages for departure delays. With the new language we are learning, we need to
<ul>
<li><code>group_by</code> months, then</li>
<li><code>summarise</code> mean departure delays.</li>
</ul></li>
<li>Then, we need to <code>arrange</code> these average delays in <code>desc</code>ending order</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_dd =</span> <span class="kw">mean</span>(dep_delay)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(mean_dd))</code></pre></div>
<pre><code>## # A tibble: 12 x 2
##    month mean_dd
##    &lt;int&gt;   &lt;dbl&gt;
##  1     7   20.8 
##  2     6   20.4 
##  3    12   17.4 
##  4     4   14.6 
##  5     3   13.5 
##  6     5   13.3 
##  7     8   12.6 
##  8     2   10.7 
##  9     1   10.2 
## 10     9    6.87
## 11    11    6.10
## 12    10    5.88</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Which month has the highest average departure delay from an NYC airport?
<ol>
<li>
January
</li>
<li>
March
</li>
<li>
July
</li>
<li>
October
</li>
<li>
December
</li>
</ol></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 4 here, and Knit</span>
nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean_dd =</span> <span class="kw">mean</span>(dep_delay)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(mean_dd))</code></pre></div>
<pre><code>## # A tibble: 12 x 2
##    month mean_dd
##    &lt;int&gt;   &lt;dbl&gt;
##  1     7   20.8 
##  2     6   20.4 
##  3    12   17.4 
##  4     4   14.6 
##  5     3   13.5 
##  6     5   13.3 
##  7     8   12.6 
##  8     2   10.7 
##  9     1   10.2 
## 10     9    6.87
## 11    11    6.10
## 12    10    5.88</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Which month has the highest median departure delay from an NYC airport?
<ol>
<li>
January
</li>
<li>
March
</li>
<li>
July
</li>
<li>
October
</li>
<li>
December
</li>
</ol></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 5 here, and Knit</span>
nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">median_dd =</span> <span class="kw">median</span>(dep_delay)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(median_dd))</code></pre></div>
<pre><code>## # A tibble: 12 x 2
##    month median_dd
##    &lt;int&gt;     &lt;dbl&gt;
##  1    12         1
##  2     6         0
##  3     7         0
##  4     3        -1
##  5     5        -1
##  6     8        -1
##  7     1        -2
##  8     2        -2
##  9     4        -2
## 10    11        -2
## 11     9        -3
## 12    10        -3</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>Is the mean or the median a more reliable measure for deciding which month(s) to avoid flying if you really dislike delayed flights, and why?
<ol>
<li>
Mean would be more reliable as it gives us the true average.
</li>
<li>
Mean would be more reliable as the distribution of delays is symmetric.
</li>
<li>
Median would be more reliable as the distribution of delays is skewed.
</li>
<li>
Median would be more reliable as the distribution of delays is symmetric.
</li>
<li>
Both give us useful information.
</li>
</ol></li>
</ol>
<p>We can also visualize the distributions of departure delays across months using side-by-side box plots:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(nycflights, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(month), <span class="dt">y =</span> dep_delay)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>()</code></pre></div>
<p><img src="02_intro_to_data_Coursera_files/figure-html/delay-month-box-1.png" width="672" /></p>
<p>There is some new syntax here: We want departure delays on the y-axis and the months on the x-axis to produce side-by-side box plots. Side-by-side box plots require a categorical variable on the x-axis, however in the data frame <code>month</code> is stored as a numerical variable (numbers 1 - 12). Therefore we can force R to treat this variable as categorical, what R calls a <strong>factor</strong>, variable with <code>factor(month)</code>.</p>
</div>
<div id="on-time-departure-rate-for-nyc-airports" class="section level3">
<h3><span class="header-section-number">0.7.3</span> On time departure rate for NYC airports</h3>
<p>Suppose you will be flying out of NYC and want to know which of the three major NYC airports has the best on time departure rate of departing flights. Suppose also that for you a flight that is delayed for less than 5 minutes is basically “on time”. You consider any flight delayed for 5 minutes of more to be “delayed”.</p>
<p>In order to determine which airport has the best on time departure rate, we need to</p>
<ul>
<li>first classify each flight as “on time” or “delayed”,</li>
<li>then group flights by origin airport,</li>
<li>then calculate on time departure rates for each origin airport,</li>
<li>and finally arrange the airports in descending order for on time departure percentage.</li>
</ul>
<p>Let’s start with classifying each flight as “on time” or “delayed” by creating a new variable with the <code>mutate</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nycflights &lt;-<span class="st"> </span>nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dep_type =</span> <span class="kw">ifelse</span>(dep_delay <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>, <span class="st">&quot;on time&quot;</span>, <span class="st">&quot;delayed&quot;</span>))</code></pre></div>
<p>The first argument in the <code>mutate</code> function is the name of the new variable we want to create, in this case <code>dep_type</code>. Then if <code>dep_delay &lt; 5</code> we classify the flight as <code>&quot;on time&quot;</code> and <code>&quot;delayed&quot;</code> if not, i.e. if the flight is delayed for 5 or more minutes.</p>
<p>Note that we are also overwriting the <code>nycflights</code> data frame with the new version of this data frame that includes the new <code>dep_type</code> variable.</p>
<p>We can handle all the remaining steps in one code chunk:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(origin) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">ot_dep_rate =</span> <span class="kw">sum</span>(dep_type <span class="op">==</span><span class="st"> &quot;on time&quot;</span>) <span class="op">/</span><span class="st"> </span><span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(ot_dep_rate))</code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   origin ot_dep_rate
##   &lt;chr&gt;        &lt;dbl&gt;
## 1 LGA          0.728
## 2 JFK          0.694
## 3 EWR          0.637</code></pre>
<p><strong>The summarise step is telling R to count up how many records of the currently found group are on time - sum(dep_type == “on time”) - and divide that result by the total number of elements in the currently found group - n() - to get a proportion, then to store the answer in a new variable called ot_dep_rate.</strong></p>
<ol start="7" style="list-style-type: decimal">
<li>If you were selecting an airport simply based on on time departure percentage, which NYC airport would you choose to fly out of?
<ol>
<li>
EWR
</li>
<li>
JFK
</li>
<li>
LGA
</li>
</ol></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 7 here, and Knit</span>
nycflights &lt;-<span class="st"> </span>nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dep_type =</span> <span class="kw">ifelse</span>(dep_delay <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>, <span class="st">&quot;on time&quot;</span>, <span class="st">&quot;delayed&quot;</span>))
nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(origin) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">ot_dep_rate =</span> <span class="kw">sum</span>(dep_type <span class="op">==</span><span class="st"> &quot;on time&quot;</span>) <span class="op">/</span><span class="st"> </span><span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(ot_dep_rate))</code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   origin ot_dep_rate
##   &lt;chr&gt;        &lt;dbl&gt;
## 1 LGA          0.728
## 2 JFK          0.694
## 3 EWR          0.637</code></pre>
<p>We can also visualize the distribution of on on time departure rate across the three airports using a segmented bar plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> nycflights, <span class="kw">aes</span>(<span class="dt">x =</span> origin, <span class="dt">fill =</span> dep_type)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>()</code></pre></div>
<p><img src="02_intro_to_data_Coursera_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<ol start="8" style="list-style-type: decimal">
<li>Mutate the data frame so that it includes a new variable that contains the average speed, <code>avg_speed</code> traveled by the plane for each flight (in mph). What is the tail number of the plane with the fastest <code>avg_speed</code>? <strong>Hint:</strong> Average speed can be calculated as distance divided by number of hours of travel, and note that <code>air_time</code> is given in minutes. If you just want to show the <code>avg_speed</code> and <code>tailnum</code> and none of the other variables, use the select function at the end of your pipe to select just these two variables with <code>select(avg_speed, tailnum)</code>. You can Google this tail number to find out more about the aircraft.
<ol>
<li>
N666DN
</li>
<li>
N755US
</li>
<li>
N779JB
</li>
<li>
N947UW
</li>
<li>
N959UW
</li>
</ol></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 8 here, and Knit</span>
nycflights &lt;-<span class="st"> </span>nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">avg_speed =</span> (distance)<span class="op">*</span><span class="dv">60</span><span class="op">/</span>air_time) 
  <span class="co">#arrange(desc(avg_speed))</span>

nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(tailnum, avg_speed) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(avg_speed))</code></pre></div>
<pre><code>## # A tibble: 32,735 x 2
##    tailnum avg_speed
##    &lt;chr&gt;       &lt;dbl&gt;
##  1 N666DN       703.
##  2 N779JB       557.
##  3 N571JB       554.
##  4 N568JB       548.
##  5 N5EHAA       548.
##  6 N656JB       548.
##  7 N789JB       545.
##  8 N516JB       539.
##  9 N648JB       536.
## 10 N510JB       536.
## # ... with 32,725 more rows</code></pre>
<ol start="9" style="list-style-type: decimal">
<li>Make a scatterplot of <code>avg_speed</code> vs. <code>distance</code>. Which of the following is true about the relationship between average speed and distance.
<ol>
<li>
As distance increases the average speed of flights decreases.
</li>
<li>
The relationship is linear.
</li>
<li>
There is an overall postive association between distance and average speed.
</li>
<li>
There are no outliers.
</li>
<li>
The distribution of distances are uniform over 0 to 5000 miles.
</li>
</ol></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 9 here, and Knit</span>
<span class="co">#nycflights %&gt;%</span>
 <span class="kw">ggplot</span>(nycflights, <span class="kw">aes</span>(<span class="dt">x =</span> distance, <span class="dt">y =</span> avg_speed)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="02_intro_to_data_Coursera_files/figure-html/avg-speed-dist-scatter-1.png" width="672" /></p>
<ol start="10" style="list-style-type: decimal">
<li>Suppose you define a flight to be “on time” if it gets to the destination on time or earlier than expected, regardless of any departure delays. Mutate the data frame to create a new variable called <code>arr_type</code> with levels <code>&quot;on time&quot;</code> and <code>&quot;delayed&quot;</code> based on this definition. Then, determine the on time arrival percentage based on whether the flight departed on time or not. What proportion of flights that were <code>&quot;delayed&quot;</code> departing arrive <code>&quot;on time&quot;</code>? [NUMERIC INPUT]</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># type your code for Question 10 here, and Knit</span>
nycflights &lt;-<span class="st"> </span>nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dep_type =</span> <span class="kw">ifelse</span>(dep_delay <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>, <span class="st">&quot;on time&quot;</span>, <span class="st">&quot;delayed&quot;</span>))
nycflights &lt;-<span class="st"> </span>nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">arr_type =</span> <span class="kw">ifelse</span>(arr_delay <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, <span class="st">&quot;delayed&quot;</span>, <span class="st">&quot;on time&quot;</span>))

nycflights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(dep_type) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">ot_del_arr =</span> <span class="kw">sum</span>(arr_type<span class="op">==</span><span class="st">&quot;on time&quot;</span>)<span class="op">/</span><span class="kw">n</span>(),<span class="kw">sum</span>(arr_type<span class="op">==</span><span class="st">&quot;on time&quot;</span>),<span class="kw">n</span>())</code></pre></div>
<pre><code>## # A tibble: 2 x 4
##   dep_type ot_del_arr `sum(arr_type == &quot;on time&quot;)` `n()`
##   &lt;chr&gt;         &lt;dbl&gt;                        &lt;int&gt; &lt;int&gt;
## 1 delayed       0.183                         1898 10351
## 2 on time       0.776                        17375 22384</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week-3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02_intro_to_data_Coursera.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["intro-to-data-prob.pdf", "intro-to-data-prob.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
